<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
  integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <script src="https://kit.fontawesome.com/113dd0e8da.js"></script>
  <link href="https://fonts.googleapis.com/css?family=Poppins&display=swap" rel="stylesheet">
  <!-- Link to our CSS -->
  <link rel="stylesheet" href="./css/materialize.min.css">
  <link rel="stylesheet" href="./css/material-icons.css">
  <link rel="stylesheet" href="./css/styles.css">
  <title>Happy Hacktoberfest 2019!</title>
</head>
<body>
  <header>
    <div class="navbar-fixed">
      <ul id="dropdown1" class="dropdown-content">
        <li><a href="https://hacktoberfest.digitalocean.com" target="_blank">Hacktoberfest</a></li>
        <li><a href="https://hacktoberfest.digitalocean.com/profile">start hacking</a></li>
        <li class="divider"></li>
      </ul>
      <nav class="blue darken-3">
        <div class="nav-wrapper">
          <div class="container">
            <a href="index.html" class="brand-logo">Hacktoberfest</a>
            <a href="index.html" class="sidenav-trigger" data-target="mobile-menu">
              <i class="material-icons">Menu</i>
            </a>
            <a href="#!" class="sidenav-trigger right" data-target="slide-out">
              <i class="material-icons">more_vert</i>
            </a>
            <ul class="right hide-on-med-and-down">
              <li>
                <a href="#!" class="dropdown-trigger" data-target="dropdown1">
                  Events<i class="material-icons right">arrow_drop_down</i>
                </a>
              </li>
              <li><a href="#!">Blog</a></li>
              <li><a href="#!">Open Source</a></li>
              <li><a href="#projects">Projects</a></li>
              <li><a href="about.html">About</a></li>
              <li><a href="contributors.html">Contributors</a></li>
              <a href="https://github.com/Evie-Skinner18/happy_hacktoberfest_19" class="btn waves-effect waves-light blue accent">GitHub</a>

            </ul>
            <ul class="sidenav" id="mobile-menu">
              <li><a href="#!">Home</a></li>
              <li><a href="#!">Events</a></li>
              <li><a href="#!">Blog</a></li>
              <li><a href="#!">Open Source</a></li>
            </ul>
          </div>
        </div>
      </nav>
    </div>
  </header>
  <div class="main_container">
    <div class="container">
      <div id="contributors-detail-section">
        <h4>Contributors of the website for Hacktoberfest 2019:</h4>
        <table id="contributors-table">
          <thead>
            <tr>
              <td>
                Github ID's
              </td>
            </tr>
          </thead>
          <tbody id="contirbutors-table-tbody">

          </tbody>
        </table>
      </div>
    </div>
  </div>
  <script>
    function generateContributorsTable(contributor){
      var contributorTable = document.getElementById('contirbutors-table-tbody');
      var tbody = new DocumentFragment();
      contributor.forEach(element => {
        var tr = document.createElement('tr');
        var td = document.createElement('td');
        var p = document.createElement('p');
        // debugger
        p.innerHTML = element;
        td.appendChild(p);
        tr.appendChild(td);
        tbody.appendChild(tr);
      });
      contributorTable.appendChild(tbody);
    }

    function fetchContributors(callback){
      console.log('fetchContributors:');
      var xmlRequest = new XMLHttpRequest();
      xmlRequest.open('GET','contributors.json',true);
      xmlRequest.onreadystatechange = function (){
        console.log("onreadystatechange called");
        if ((xmlRequest.readyState == 4) && (xmlRequest.status == 200)){
          var jsObject = JSON.parse(this.responseText);
          callback(jsObject['contributors']);
        }
      };
      xmlRequest.send();
      console.log('fetchContributors;');
    }

    fetchContributors(generateContributorsTable);
  </script>
</body>
</html>